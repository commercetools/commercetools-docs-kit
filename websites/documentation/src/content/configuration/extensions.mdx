---
title: Theme Extensions
beta: false
---

## Using Theme with Add-Ons

A theme add-on is a Gatsby Theme that exposes React components to be injected into the MDX provider of the core theme.

Gatsby enables a child theme to use component shadowing (see [Theme overrides](#theme-overrides)). However, with multiple themes, the shadowed components are _only_ loaded from the last theme in the Gatsby configuration. To solve this problem, a commercetools-docs Gatsby Theme can be used as an add-on, allowing _multiple_ add-ons to provide additional components to be available in MDX without having to manually import them into every page.

When using add-on themes, a proxy export file will be generated in the websites `src/@commercetools-docs/gatsby-theme-docs/overrides` folder to leverage Gatsby's component shadowing (see [Theme overrides](#theme-overrides)). This file provides all the exported components from the add-on packages. For a component to be exported by an add-on package it has to be exported from `shortcodes.js` in the add-on package root.

**To safely configure theme add-ons, use the `configureThemeWithAddOns` function in the websites's `gatsby-config.js`:**

```js
const {
  configureThemeWithAddOns,
} = require('@commercetools-docs/gatsby-theme-docs/configure-theme');

module.exports = {
  plugins: [
    ...configureThemeWithAddOns({
      // Pass the normal theme options
      websiteKey: 'my-website-key',
      // Define and configure the add-on plugins instead of configuring them in the main plugins array.
      addOns: [
        '@commercetools-docs/gatsby-theme-foo',
        {
          resolve: '@commercetools-docs/gatsby-theme-bar',
          options: {
            // ...
          },
        },
      ],
    }),
  ],
};
```

## Theme Overrides

The theme allows to inject custom functionalities to specific parts of it. [Read here](/configuration/overrides) for more information.

## Helpful Components & Functions

The theme additionally exports some React components and functions that are useful to build custom views in your website. Two hooks allow to build components that can be placed into MDX files while still having access to all necessary data:

- `usePageData` provides frontmatter values or their defaults and other page-level metadata like the table of contents.
- `useSiteData` provides site wide metadata.

```jsx
import {
  Markdown,
  Spacings,
  useSiteData,
  usePageData,
} from '@commercetools-docs/gatsby-theme-docs';

const MyComponent = () => {
  const siteData = useSiteData();
  const pageData = usePageData();
  return (
    <Spacings.Stack>
      <Markdown.H1>{siteData.siteMetadata.title}</Markdown.H1>
      <Markdown.Paragraph>{'Hello, world!'}</Markdown.Paragraph>
      {usePageData.beta ? (
        <Warning>Beta!</Warning>
      ) : (
        <Info>Generally available</Info>
      )}
    </Spacings.Stack>
  );
};
export default MyComponent;
```
